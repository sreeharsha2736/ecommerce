(this.webpackJsonpecommerce=this.webpackJsonpecommerce||[]).push([[0],{19:function(e,t,c){},76:function(e,t,c){"use strict";c.r(t);var s=c(40),a=c(41),r=c(46),n=c(44),i=c(1),l=c.n(i),o=c(22),d=c.n(o),j=c(4),u=c(5),m=c(3),b=c(11),p=c(6),h=c.n(p),O=c(14),x=c(15),v=c.n(x),f=c(13),g=c.n(f),N="USER_SIGNIN_REQUEST",y="USER_SIGNIN_SUCCESS",S="USER_SIGNIN_FAIL",w="USER_REGISTER_REQUEST",I="USER_REGISTER_SUCCESS",E="USER_REGISTER_FAIL",k="USER_LOGOUT",C=(c(19),c(45)),_=c(0),R=function(e){var t=Object(j.c)((function(e){return e.userSignin})).userInfo,c=Object(j.b)(),s=function(){c((function(e){g.a.remove("userInfo"),e({type:k})})),e.history.push("/signin")};return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("nav",{className:" ",children:Object(_.jsxs)("div",{className:" row",children:[Object(_.jsx)("span",{className:" col-10  ",children:Object(_.jsx)("ul",{className:"navbar-nav pt-2",children:Object(_.jsx)("li",{className:"pl-5 active",children:Object(_.jsx)(u.b,{to:"/",className:"nav-link",id:"home",style:{textDecoration:"none"},children:"MyEcommerce-Home"})})})}),Object(_.jsx)("span",{className:"col-2",children:Object(_.jsxs)("div",{className:"d-flex   pt-3",children:[t?Object(_.jsxs)("div",{children:[Object(_.jsx)(u.b,{to:"/profile",children:t.name}),Object(_.jsxs)("button",{onClick:function(){return s()},children:[" ",Object(_.jsx)(u.b,{to:"/logout",children:"Logout "})]})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(u.b,{to:"/signin",children:"Sign In"})," "]}),Object(_.jsx)("div",{className:"pl-5 ",style:{fontSize:"24px"},children:Object(_.jsx)(C.a,{})})]})})]})})})},T=function(){var e=Object(i.useState)("header"),t=Object(b.a)(e,2),c=t[0],s=t[1],a=function(e){return window.scrollY<73?s("header"):window.scrollY>70?s("header2"):void 0};return Object(i.useEffect)((function(){window.addEventListener("scroll",a)}),[]),Object(_.jsx)("div",{id:c,className:"container-fluid",children:Object(_.jsx)(R,{})})},U=c(18),F="PRODUCT_LIST_REQUEST",L="PRODUCT_LIST_SUCCESS",A="PRODUCT_LIST_FAIL",D="PRODUCT_DETAILS_REQUEST",P="PRODUCT_DETAILS_SUCCESS",J="PRODUCT_DETAILS_FAIL",G=function(e){var t=Object(j.c)((function(e){return e.productDetails})),c=Object(i.useState)(1),s=Object(b.a)(c,2),a=s[0],r=s[1],n=t.product,l=t.loading,o=t.error,d=Object(j.b)();Object(i.useEffect)((function(){var t;d((t=e.match.params.id,function(){var e=Object(O.a)(h.a.mark((function e(c){var s,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:D,payload:t}),e.next=4,v.a.get("/products/"+t);case 4:s=e.sent,a=s.data,c({type:P,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:J,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()))}),[]);return l?"...loading":o?{error:o}:Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"row pt-5",children:[Object(_.jsx)("img",{src:n.image,className:"col-md-4"}),Object(_.jsx)("div",{className:"col-md-4 pt-5 ",children:Object(_.jsx)("div",{id:"product-description",className:"p-5",children:Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"",children:[Object(_.jsxs)("h4",{className:"",children:[" ",n.item]}),Object(_.jsxs)("h5",{className:"",children:[" Price : ",n.amount]}),Object(_.jsxs)("h5",{className:"",children:[" Ratings : ",n.rating,"/ 5"]})]})})})}),Object(_.jsx)("div",{className:"col-md-4 pt-5 ",children:Object(_.jsxs)("div",{id:"",className:"p-5",children:[Object(_.jsx)("div",{children:Object(_.jsxs)("div",{className:"",children:[Object(_.jsxs)("h5",{className:"",children:[" Price : ",n.amount]}),Object(_.jsxs)("h5",{className:"",children:[" Ratings : ",n.rating," / 5"]}),"Qty :",Object(_.jsx)("select",{className:"form-select form-select-sm","aria-label":".form-select-sm example",value:a,onChange:function(e){return r(e.target.value)},children:Object(U.a)(Array(n.countInStock).keys()).map((function(e){return Object(_.jsx)("option",{value:e+1,children:e+1},e+1)}))})]})}),Object(_.jsxs)("div",{className:" ",children:[Object(_.jsx)("div",{children:Object(_.jsxs)("p",{children:["Status:",n.countInStock<1?" Un available":" In Stock"]})}),n.countInStock>1&&Object(_.jsx)("button",{className:"btn btn-warning",onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+a)},children:"Add to cart"})]})]})})]})})},B=function(){var e=Object(j.c)((function(e){return e.productList})),t=e.products,c=e.loading,s=e.error,a=Object(j.b)();return Object(i.useEffect)((function(){a(function(){var e=Object(O.a)(h.a.mark((function e(t){var c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:F}),e.next=4,v.a.get("/products");case 4:c=e.sent,s=c.data,t({type:L,payload:s}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:A,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]),c?Object(_.jsx)("div",{children:"Loading..."}):s?Object(_.jsx)("div",{children:s}):Object(_.jsxs)(_.Fragment,{children:[t.map((function(e){return Object(_.jsx)("div",{className:"col-md-4  col-sm-6 p-5",children:Object(_.jsxs)("div",{className:"card ",children:[Object(_.jsx)("img",{src:e.image,className:"card-img-top ",style:{maxHeight:"280px",maxWidth:"330px"},alt:"..."}),Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsx)("h5",{className:"card-title text-center",children:e.item}),Object(_.jsxs)("div",{className:"row justify-content-around",children:[Object(_.jsx)("span",{className:"card-text",children:e.amount}),Object(_.jsx)("span",{className:"",children:Object(_.jsx)(u.b,{to:"/products/"+e.id,className:"  ",children:"Buynow"})})]})]})]})},e.id)}))," "]})},H=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{id:"carousel-example-1z",className:"carousel slide carousel-fade pt-4","data-ride":"carousel",children:[Object(_.jsxs)("ol",{className:"carousel-indicators",children:[Object(_.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"0",className:"active"}),Object(_.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"1"}),Object(_.jsx)("li",{"data-target":"#carousel-example-1z","data-slide-to":"2"})]}),Object(_.jsxs)("div",{className:"carousel-inner ",role:"listbox",children:[Object(_.jsx)("div",{className:"carousel-item active",children:Object(_.jsx)("div",{className:"view1 pr-5",children:Object(_.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(_.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(_.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(_.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(_.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(_.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(_.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})}),Object(_.jsx)("div",{className:"carousel-item",children:Object(_.jsx)("div",{className:"view2 pr-5",children:Object(_.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(_.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(_.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(_.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(_.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(_.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(_.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})}),Object(_.jsx)("div",{className:"carousel-item",children:Object(_.jsx)("div",{className:"view3 pr-5",children:Object(_.jsx)("div",{className:"mask rgba-black-strong  d-flex justify-content-center align-items-center",children:Object(_.jsxs)("div",{className:"text-center white-text mx-5 wow fadeIn",children:[Object(_.jsx)("h1",{className:"mt-4 pr-5 pt-5 pb-5",children:Object(_.jsx)("strong",{children:"Welcome to my ecommerce site"})}),Object(_.jsxs)("h3",{className:"mb-4 pr-5 pt-5 pb-5",children:["Best items are available"," "]}),Object(_.jsxs)("h4",{className:"mb-4 d-none pr-5 pb-5 d-md-block",children:["India's biggest online store for Mobiles, Fashion (Clothes/Shoes), Electronics, ",Object(_.jsx)("br",{}),"Home Appliances, Books Home, Furniture, Grocery, Jewelry, Sporting goods."]})]})})})})]}),Object(_.jsxs)("a",{className:"carousel-control-prev",href:"#carousel-example-1z",role:"button","data-slide":"prev",children:[Object(_.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(_.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(_.jsxs)("a",{className:"carousel-control-next",href:"#carousel-example-1z",role:"button","data-slide":"next",children:[Object(_.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(_.jsx)("span",{className:"sr-only",children:"Next"})]})]})})},M=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(H,{}),Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"row",children:Object(_.jsx)(B,{})})})]})},z=function(e){var t=Object(i.useState)(""),c=Object(b.a)(t,2),s=c[0],a=c[1],r=Object(i.useState)(""),n=Object(b.a)(r,2),l=n[0],o=n[1],d=Object(j.c)((function(e){return e.userSignin})),m=d.loading,p=d.error,x=d.userInfo,f=Object(j.b)(),w=e.location.search?e.location.search.split("=")[1]:"/";return Object(i.useEffect)((function(){return x&&e.history.push(w),function(){}}),[x]),Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"pt-5",children:Object(_.jsx)("div",{className:" pt-5 ",children:Object(_.jsx)("div",{className:"row justify-content-center",children:Object(_.jsx)("div",{className:" col-5 border",children:Object(_.jsxs)("div",{className:" p-4 ",children:[Object(_.jsx)("h2",{className:" text-center",children:"Sign in Form"}),Object(_.jsx)("div",{className:" py-md-4",children:Object(_.jsxs)("form",{onSubmit:function(e){f(function(e,t){return function(){var c=Object(O.a)(h.a.mark((function c(s){var a,r;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return s({type:N,payload:{email:e,password:t}}),c.prev=1,c.next=4,v.a.post("/api/users/signin",{email:e,password:t});case 4:a=c.sent,r=a.data,s({type:y,payload:r}),g.a.set("userInfo",JSON.stringify(r)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s({type:S,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(s,l))},children:[m&&Object(_.jsx)("div",{children:"Loading ...."}),p&&Object(_.jsx)("div",{children:p.includes("401")?"invalid Credentials...":p}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Email",value:s,onChange:function(e){return a(e.target.value)}})}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:l,onChange:function(e){return o(e.target.value)}})}),Object(_.jsx)("div",{className:"mx-auto",children:Object(_.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Login"})})]})}),Object(_.jsxs)("p",{children:[" ","Don't have an account,"," ",Object(_.jsx)(u.b,{to:"/"===w?"register":"register?redirect="+w,children:"Sign up"})]})]})})})})})})},Q="CART_ADD_ITEM",q="CART_REMOVE_ITEM",W=function(e,t){return function(){var c=Object(O.a)(h.a.mark((function c(s,a){var r,n,i,l;return h.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,v.a.get("/products/"+e);case 3:r=c.sent,n=r.data,s({type:Q,payload:{product:n.id,name:n.item,image:n.image,amount:n.amount,countInStock:n.countInStock,qty:t}}),i=a(),l=i.cart.cartItems,g.a.set("cartItems",JSON.stringify(l)),localStorage.set("cartItems",JSON.stringify(l)),c.next=13;break;case 11:c.prev=11,c.t0=c.catch(0);case 13:case"end":return c.stop()}}),c,null,[[0,11]])})));return function(e,t){return c.apply(this,arguments)}}()};var V=function(e){var t=Object(j.c)((function(e){return e.cart})).cartItems,c=e.match.params.id;console.log(c);var s=e.location.search?Number(e.location.search.split("=")[1]):1;console.log(Number(e.location.search.split("=")[1]));var a=Object(j.b)();Object(i.useEffect)((function(){c&&a(W(c,s))}),[]);var r=function(e){a(function(e){return function(t,c){t({type:q,payload:e});var s=c().cart.cartItems;g.a.set("cartItems",JSON.stringify(s))}}(e))};return console.log(t),Object(_.jsxs)("div",{className:"cart pl-2 my-5",children:[Object(_.jsx)("div",{className:"cart-list ",children:Object(_.jsxs)("ul",{className:"pt-5",children:[Object(_.jsx)("h3",{children:"Shopping Cart"}),0===t.length?Object(_.jsx)("div",{children:"Cart is empty"}):t.map((function(e){return Object(_.jsx)("li",{style:{listStyle:"none",border:"1px solid grey"},className:"my-4",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"cart-image col-4",children:Object(_.jsx)("img",{src:e.image,alt:"product",style:{width:"250px"}})}),Object(_.jsxs)("div",{className:"pt-5 pl-5",children:[Object(_.jsx)("h1",{children:Object(_.jsx)(u.b,{to:"/products/"+e.product,children:e.name})}),Object(_.jsx)("h5",{children:Object(_.jsxs)("div",{className:"cart-price",children:["$",1*e.amount]})}),Object(_.jsxs)("div",{children:["Qty:",Object(_.jsx)("select",{value:e.qty,onChange:function(t){return a(W(e.product,t.target.value))},children:Object(U.a)(Array(e.countInStock).keys()).map((function(e){return Object(_.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(_.jsx)("br",{}),Object(_.jsx)("br",{}),Object(_.jsx)("button",{className:"btn btn-danger",onClick:function(){return r(e.product)},children:"Delete"})]})]})]})},e.name)}))]})}),Object(_.jsxs)("div",{className:"cart-action pl-5",children:[Object(_.jsxs)("h3",{children:["Subtotal ( ",t.reduce((function(e,t){return e+t.qty}),0)," items) : $"," ",t.reduce((function(e,t){return e+t.amount*t.qty}),0)]}),Object(_.jsx)("button",{onClick:function(){e.history.push("/signin?redirect=shipping")},className:"button primary full-width",disabled:0===t.length,children:"Proceed to Checkout"})]})]})},X=function(e){var t=Object(i.useState)(""),c=Object(b.a)(t,2),s=c[0],a=c[1],r=Object(i.useState)(""),n=Object(b.a)(r,2),l=n[0],o=n[1],d=Object(i.useState)(""),m=Object(b.a)(d,2),p=m[0],x=m[1],f=Object(i.useState)(""),N=Object(b.a)(f,2),y=N[0],S=N[1],k=Object(j.b)(),C=Object(j.c)((function(e){return e.userRegister})),R=C.loading,T=C.error,U=C.userInfo,F=e.location.search?e.location.search.split("=")[1]:"/";return Object(i.useEffect)((function(){return U&&e.history.push(F),function(){}}),[U]),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"container pt-5 mt-5",children:[Object(_.jsx)("div",{className:"row justify-content-center",children:Object(_.jsx)("div",{className:"col-md-5",children:Object(_.jsxs)("div",{className:"card",children:[Object(_.jsx)("h2",{className:"card-title text-center",children:"Sign in Form"}),Object(_.jsx)("div",{className:"card-body py-md-4",children:Object(_.jsxs)("form",{onSubmit:function(e){k(function(e,t,c){return function(){var s=Object(O.a)(h.a.mark((function s(a){var r,n;return h.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return a({type:w,payload:{name:e,email:t,password:c}}),s.prev=1,s.next=4,v.a.post("/api/users/register",{name:e,email:t,password:c});case 4:r=s.sent,n=r.data,a({type:I,payload:n}),g.a.set("userInfo",JSON.stringify(n)),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(1),a({type:E,payload:s.t0.message});case 13:case"end":return s.stop()}}),s,null,[[1,10]])})));return function(e){return s.apply(this,arguments)}}()}(s,l,p))},children:[Object(_.jsx)("div",{children:"Welcome!!! Please create your credentials"}),R&&Object(_.jsx)("div",{children:"Creating Credentials..."}),T&&Object(_.jsx)("div",{children:T}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name",placeholder:"Name",value:s,onChange:function(e){a(e.target.value)}})}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",placeholder:"Email",value:l,onChange:function(e){o(e.target.value)}})}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:p,onChange:function(e){x(e.target.value)}})}),Object(_.jsx)("div",{className:"form-group",children:Object(_.jsx)("input",{type:"password",className:"form-control",id:"confirm-password",placeholder:"confirm-password",value:y,onChange:function(e){return S(e.target.value)}})}),Object(_.jsx)("div",{className:"d-flex flex-row align-items-center justify-content-between",children:Object(_.jsx)("button",{className:"btn btn-primary",type:"submit",name:"submit",children:"Create Account"})})]})})]})})}),Object(_.jsxs)("div",{className:"row  justify-content-center",children:["Already have an account,",Object(_.jsx)(u.b,{to:"/"===F?"Signin":"Signin?redirect="+F,children:"Log in"})]})]})})},Y=c(16),$=c(43),K=c(30);var Z={cart:{cartItems:g.a.getJSON("cartItems")||[],shipping:{},payment:{}},userSignin:{userInfo:g.a.getJSON("userInfo")||null}},ee=Object(Y.c)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0,products:[]};case L:return{loading:!1,products:t.payload};case A:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case P:return{loading:!1,product:t.payload};case J:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:var c=t.payload,s=e.cartItems.find((function(e){return e.product===c.product}));return s?Object(K.a)(Object(K.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===s?c:e}))}):{cartItems:[].concat(Object(U.a)(e.cartItems),[c])};case q:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};default:return{cartItems:e.cartItems}}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{loading:!0};case y:return{loading:!1,userInfo:t.payload};case S:return{loading:!1,error:t.payload};case k:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case I:return{loading:!1,userInfo:t.payload};case E:return{loading:!1,error:t.payload};default:return e}}}),te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,ce=Object(Y.e)(ee,Z,te(Object(Y.a)($.a))),se=function(e){Object(r.a)(c,e);var t=Object(n.a)(c);function c(){return Object(s.a)(this,c),t.apply(this,arguments)}return Object(a.a)(c,[{key:"render",value:function(){return Object(_.jsx)("div",{children:Object(_.jsxs)(u.a,{children:[Object(_.jsx)("div",{children:Object(_.jsxs)("div",{children:[" ",Object(_.jsx)(T,{})]})}),Object(_.jsxs)(m.c,{children:[Object(_.jsx)(m.a,{path:"/products/:id",component:G}),Object(_.jsx)(m.a,{path:"/",exact:!0,component:M}),Object(_.jsx)(m.a,{path:"/signin",component:z}),Object(_.jsx)(m.a,{path:"/logout",component:z}),Object(_.jsx)(m.a,{path:"/register",component:X}),Object(_.jsx)(m.a,{path:"/cart/:id?",component:V})]})]})})}}]),c}(l.a.Component);d.a.render(Object(_.jsx)(j.a,{store:ce,children:Object(_.jsx)(se,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.9deeb6f0.chunk.js.map